<!DOCTYPE html>
<html lang="en" class="editor">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crosshair Y SVG Editor</title>
    <link rel="stylesheet" href="./style/style.css">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' file: data:;">
</head>
<body class="editor">
    <div class="editor-container">
        <div class="editor-toolbar">
            <button class="tool-button active" data-tool="select" title="Select (V)">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M6 3L6 19L10 15L13 21L16 20L13 14L19 14L6 3Z" fill="currentColor" />
                </svg>
            </button>
            <button class="tool-button" data-tool="rect" title="Rectangle (R)">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <rect x="4" y="4" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" rx="2" ry="2"
                        stroke-linejoin="round" />
                </svg>
            </button>
            <button class="tool-button" data-tool="ellipse" title="Ellipse (E)">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <circle cx="12" cy="12" r="8" fill="none" stroke="currentColor" stroke-width="2" />
                </svg>
            </button>
            <button class="tool-button" data-tool="line" title="Line (L)">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <line x1="5" y1="18" x2="19" y2="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    <circle cx="5" cy="18" r="1.5" fill="currentColor" />
                    <circle cx="19" cy="6" r="1.5" fill="currentColor" />
                </svg>
            </button>
            <button class="tool-button" data-tool="path" title="Curve (P)">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4 16 C8 8, 16 8, 20 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
        </div>
        <main class="canvas-container" id="canvas-container">
            <div id="canvas-wrapper">
                 <svg id="editor-svg" width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"></svg>
                 <svg id="editor-overlay" xmlns="http://www.w3.org/2000/svg"></svg>
            </div>
        </main>
        <aside class="editor-sidebar">
            <div class="properties-container">
                <h3 class="sidebar-heading">Properties</h3>
                <div id="properties-panel" class="properties-panel">
                    <div class="property-item">
                        <label for="prop-fill">Fill</label>
                        <input type="color" id="prop-fill" value="#cccccc">
                    </div>
                     <div class="property-item">
                        <label for="prop-stroke">Stroke</label>
                        <input type="color" id="prop-stroke" value="#333333">
                    </div>
                     <div class="property-item">
                        <label for="prop-stroke-width">Stroke Width</label>
                        <input type="number" id="prop-stroke-width" value="1" min="0">
                    </div>
                    <div class="zoom-control">
                        <div style="font-size: 12px; color: var(--text);">Zoom <span id="zoom-label">100%</span></div>
                        <custom-range id="zoom-slider" type="range" min="25" max="400" value="100" style="width: 120px;"></custom-range>
                        <div style="display: flex; gap: 6px;">
                            <button id="zoom-reset" class="tool-button" title="Reset Zoom">1x</button>
                            <button id="zoom-fit" class="tool-button" title="Fit to view">Fit</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="palette-container">
                <h3 class="sidebar-heading">Instant Palette</h3>
                <div id="palette-panel" class="palette-panel"></div>
            </div>
            <div class="layers-container">
                <h3 class="sidebar-heading">Layers</h3>
                <div class="layers-toolbox">
                    <button class="tool-button-small" id="new-layer-btn" title="New Layer">
                        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>
                    </button>
                    <button class="tool-button-small" id="rename-layer-btn" title="Rename Layer">
                        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg>
                    </button>
                    <button class="tool-button-small" id="delete-layer-btn" title="Delete Layer">
                        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>
                    </button>
                </div>
                <div id="layers-panel" class="layers-panel"></div>
            </div>
        </aside>
    </div>
    <script src="./scripts/context-menu.js"></script>
    <script src="./scripts/elements.js"></script>
    <script src="./scripts/modal.js"></script>
    <script src="./scripts/editor.js"></script>
</body>
</html>